(()=>{"use strict";function e(e){this.type=e}e.prototype.init=function(){const e=this;this.оbjects=[],this.daClassname="_dynamic_adapt_",this.nodes=document.querySelectorAll("[data-da]");for(let e=0;e<this.nodes.length;e++){const t=this.nodes[e],n=t.dataset.da.trim().split(","),i={};i.element=t,i.parent=t.parentNode,i.destination=document.querySelector(n[0].trim()),i.breakpoint=n[1]?n[1].trim():"767",i.place=n[2]?n[2].trim():"last",i.index=this.indexInParent(i.parent,i.element),this.оbjects.push(i)}this.arraySort(this.оbjects),this.mediaQueries=Array.prototype.map.call(this.оbjects,(function(e){return"("+this.type+"-width: "+e.breakpoint+"px),"+e.breakpoint}),this),this.mediaQueries=Array.prototype.filter.call(this.mediaQueries,(function(e,t,n){return Array.prototype.indexOf.call(n,e)===t}));for(let t=0;t<this.mediaQueries.length;t++){const n=this.mediaQueries[t],i=String.prototype.split.call(n,","),o=window.matchMedia(i[0]),a=i[1],r=Array.prototype.filter.call(this.оbjects,(function(e){return e.breakpoint===a}));o.addListener((function(){e.mediaHandler(o,r)})),this.mediaHandler(o,r)}},e.prototype.mediaHandler=function(e,t){if(e.matches)for(let e=0;e<t.length;e++){const n=t[e];n.index=this.indexInParent(n.parent,n.element),this.moveTo(n.place,n.element,n.destination)}else for(let e=0;e<t.length;e++){const n=t[e];n.element.classList.contains(this.daClassname)&&this.moveBack(n.parent,n.element,n.index)}},e.prototype.moveTo=function(e,t,n){t.classList.add(this.daClassname),"last"===e||e>=n.children.length?n.insertAdjacentElement("beforeend",t):"first"!==e?n.children[e].insertAdjacentElement("beforebegin",t):n.insertAdjacentElement("afterbegin",t)},e.prototype.moveBack=function(e,t,n){t.classList.remove(this.daClassname),void 0!==e.children[n]?e.children[n].insertAdjacentElement("beforebegin",t):e.insertAdjacentElement("beforeend",t)},e.prototype.indexInParent=function(e,t){const n=Array.prototype.slice.call(e.children);return Array.prototype.indexOf.call(n,t)},e.prototype.arraySort=function(e){"min"===this.type?Array.prototype.sort.call(e,(function(e,t){return e.breakpoint===t.breakpoint?e.place===t.place?0:"first"===e.place||"last"===t.place?-1:"last"===e.place||"first"===t.place?1:e.place-t.place:e.breakpoint-t.breakpoint})):Array.prototype.sort.call(e,(function(e,t){return e.breakpoint===t.breakpoint?e.place===t.place?0:"first"===e.place||"last"===t.place?1:"last"===e.place||"first"===t.place?-1:t.place-e.place:t.breakpoint-e.breakpoint}))},new e("max").init(),function(){let e=document.querySelectorAll(".ibg");for(var t=0;t<e.length;t++)e[t].querySelector("img")&&(e[t].style.backgroundImage="url("+e[t].querySelector("img").getAttribute("src")+")")}();const t=document.querySelectorAll("[data-anim]");if(t.length>0){function o(){for(let e=0;e<t.length;e++){const n=t[e],i=n.offsetHeight,o=a(n).top,r=4;let s=window.innerHeight-i/r;i>window.innerHeight&&(s=window.innerHeight-window.innerHeight/r),pageYOffset>o-s&&pageYOffset<o+i?n.classList.add("_active"):n.classList.contains("_anim-no-repeat")||n.classList.remove("_active")}}function a(e){const t=e.getBoundingClientRect(),n=window.pageXOffset||document.documentElement.scrollLeft,i=window.pageYOffset||document.documentElement.scrollTop;return{top:t.top+i,left:t.left+n}}window.addEventListener("scroll",o),setTimeout((()=>{o()}),300)}var n;function i(e){return e=e||{},this.nameSpaces={wrapper:e.wrapper||".parallax",layers:e.layers||".parallax-layer",deep:e.deep||"data-parallax-deep"},this.init=function(){for(var e=this,t=document.querySelectorAll(this.nameSpaces.wrapper),n=0;n<t.length;n++)!function(n){t[n].addEventListener("mousemove",(function(i){for(var o=i.clientX,a=i.clientY,r=t[n].querySelectorAll(e.nameSpaces.layers),s=0;s<r.length;s++)!function(t){var n=r[t].getAttribute(e.nameSpaces.deep),i=r[t].getAttribute("data-parallax-disallow"),s=i&&"x"===i?0:o/n,l=i&&"y"===i?0:a/n;i&&"both"===i||(r[t].style.transform="translateX("+s+"%) translateY("+l+"%)")}(s)}))}(n)},this.init(),this}((e,t,n)=>{n=n||window;let i=!1;n.addEventListener("resize",(function(){i||(i=!0,requestAnimationFrame((function(){n.dispatchEvent(new CustomEvent("optimizedResize")),i=!1})))}))})(),(n=n||window).animation=function(e,t,n){const i=t.count;let o=0;t.start&&t.start.forEach((t=>{e.style[t[0]]=t[1]}));const a=[];t.anim.forEach((([e,t,n])=>{const o=Math.max(t,n),r=Math.min(t,n),s=(o-r)/i;a.push({style:e,from:t,to:n,step:s,reverse:r===n})}));const r=()=>{a.forEach((t=>{t.reverse?t.from-=t.step:t.from+=t.step,e.style[t.style]=t.from})),o++,o<i?requestAnimationFrame(r):(t.end&&t.end.forEach((t=>{e.style[t[0]]=t[1]})),n&&n())};requestAnimationFrame(r)},document.addEventListener("DOMContentLoaded",(()=>{const e=document.createElement("div");e.className="videotube-modal-overlay",document.body.insertAdjacentElement("beforeend",e);const t=document.createElement("div");t.id="videotube-modal-container";const n=[[3840,2160],[2560,1440],[1920,1080],[1280,720],[854,420],[640,360],[426,240]],i=()=>{const e=n.find((e=>e[0]<window.visualViewport.width))||n[n.length-1],i=document.getElementById("videotube-modal");i.width=e[0],i.height=e[1],t.style.cssText=`\n\t\t\twidth: ${e[0]};\n\t\t\theight: ${e[1]};\n\t\t`},o=()=>{const n=window.visualViewport.height,i=window.visualViewport.width,o=t.style.width,a=t.style.height;t.style.left=(i-o)/2,t.style.top=(n-a)/2,e.style.height=document.documentElement.clientHeight},a=()=>{o(),i()},r=()=>{animation(e,{end:[["display","none"]],anim:[["opacity",1,0]],count:20},(()=>{e.textContent=""})),window.removeEventListener("optimizedResize",a),document.removeEventListener("keyup",s)},s=e=>{27===e.keyCode&&r()};e.addEventListener("click",r),document.addEventListener("click",(t=>{const n=t.target.closest(".tube");if(!n)return;const r=n.href;let l=r.includes("youtube")?r.match(/(\?|&)v=([^&]+)/)[2]:r.match(/(\.be\/)([^&]+)/)[2];0!==l.length&&(t.preventDefault(),animation(e,{start:[["display","block"]],anim:[["opacity",0,1]],count:20}),e.insertAdjacentHTML("beforeend",`\n\t\t\t<div id="videotube-modal-loading">Loading...</div>\n\t\t\t<div id="videotube-modal-close">Close</div>\n\t\t\t<div id="videotube-modal-container">\n\t\t\t\t<iframe src="https://youtube.com/embed/${l}?autoplay=1" \n\t\t\t\t\tframeborder="0"\n\t\t\t\t\tid="videotube-modal" \n\t\t\t\t\tallowfullscreen\n\t\t\t\t\tallow="autoplay">\n\t\t\t\t</iframe>\n\t\t\t</div>\n\t\t`),i(),o(),window.addEventListener("optimizedResize",a),document.addEventListener("keyup",s))}))})),jQuery(document).ready((function(){$(".phone").mask("+380 (99) 999-99-99"),jQuery("._send-form").click((function(){var e=jQuery(this).closest("form");if(e.valid()){var t=e.attr("action");jQuery.ajax({url:t,type:"post",dataType:"html",data:e.serialize(),success:function(t){e.find(".status--ok").html("form sent")},error:function(){e.find(".status--error").html("server error")}})}}))})),window.addEventListener("load",(function(){new i})),function(e){let t=new Image;t.onload=t.onerror=function(){!function(e){let t=!0===e?"webp":"no-webp";document.documentElement.classList.add(t)}(2==t.height)},t.src="data: image / webp; base64, UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA / veff / 0PP8bA//LwYAAA"}(),window.onload=function(){const e=document.querySelector(".header");new IntersectionObserver((function(t,n){t[0].isIntersecting?e.classList.remove("_scroll"):e.classList.add("_scroll")})).observe(e)}})();